var $jscomp={scope:{},getGlobal:function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global?global:c}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.initSymbol=function(){$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol);$jscomp.initSymbol=function(){}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return"jscomp_symbol_"+c+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};
$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();if(c[$jscomp.global.Symbol.iterator])return c[$jscomp.global.Symbol.iterator]();if(!(c instanceof Array||"string"==typeof c||c instanceof String))throw new TypeError(c+" is not iterable");var k=0;return{next:function(){return k==c.length?{done:!0}:{done:!1,value:c[k++]}}}};$jscomp.arrayFromIterator=function(c){for(var k,m=[];!(k=c.next()).done;)m.push(k.value);return m};
$jscomp.arrayFromIterable=function(c){return c instanceof Array?c:$jscomp.arrayFromIterator($jscomp.makeIterator(c))};$jscomp.arrayFromArguments=function(c){for(var k=[],m=0;m<c.length;m++)k.push(c[m]);return k};
$jscomp.inherits=function(c,k){function m(){}m.prototype=k.prototype;c.prototype=new m;c.prototype.constructor=c;for(var q in k)if($jscomp.global.Object.defineProperties){var b=$jscomp.global.Object.getOwnPropertyDescriptor(k,q);void 0!==b&&$jscomp.global.Object.defineProperty(c,q,b)}else c[q]=k[q]};
(function e$$0(k,m,q){function b(f,e){if(!m[f]){if(!k[f]){var d="function"==typeof require&&require;if(!e&&d)return d(f,!0);if(a)return a(f,!0);d=Error("Cannot find module '"+f+"'");throw d.code="MODULE_NOT_FOUND",d;}d=m[f]={exports:{}};k[f][0].call(d.exports,function(a){var d=k[f][1][a];return b(d?d:a)},d,d.exports,e$$0,k,m,q)}return m[f].exports}for(var a="function"==typeof require&&require,f=0;f<q.length;f++)b(q[f]);return b})({1:[function(c,k,m){function q(a){var d=a.length;if(0<d%4)throw Error("Invalid string. Length must be a multiple of 4");
return"="===a[d-2]?2:"="===a[d-1]?1:0}function b(b,d,f){for(var l=[],p=d;p<f;p+=3)d=(b[p]<<16)+(b[p+1]<<8)+b[p+2],l.push(a[d>>18&63]+a[d>>12&63]+a[d>>6&63]+a[d&63]);return l.join("")}m.byteLength=function(a){return 3*a.length/4-q(a)};m.toByteArray=function(a){var d,b,l,p,g;d=a.length;p=q(a);g=new h(3*d/4-p);b=0<p?d-4:d;var n=0;for(d=0;d<b;d+=4)l=f[a.charCodeAt(d)]<<18|f[a.charCodeAt(d+1)]<<12|f[a.charCodeAt(d+2)]<<6|f[a.charCodeAt(d+3)],g[n++]=l>>16&255,g[n++]=l>>8&255,g[n++]=l&255;2===p?(l=f[a.charCodeAt(d)]<<
2|f[a.charCodeAt(d+1)]>>4,g[n++]=l&255):1===p&&(l=f[a.charCodeAt(d)]<<10|f[a.charCodeAt(d+1)]<<4|f[a.charCodeAt(d+2)]>>2,g[n++]=l>>8&255,g[n++]=l&255);return g};m.fromByteArray=function(e){for(var d=e.length,f=d%3,l="",p=[],g=0,n=d-f;g<n;g+=16383)p.push(b(e,g,g+16383>n?n:g+16383));1===f?(e=e[d-1],l+=a[e>>2],l+=a[e<<4&63],l+="=="):2===f&&(e=(e[d-2]<<8)+e[d-1],l+=a[e>>10],l+=a[e>>4&63],l+=a[e<<2&63],l+="=");p.push(l);return p.join("")};var a=[],f=[],h="undefined"!==typeof Uint8Array?Uint8Array:Array;
for(c=0;64>c;++c)a[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c],f["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(c)]=c;f[45]=62;f[95]=63},{}],2:[function(c,k,m){function q(a,b,h){for(var e=a.length-1,d=0,r,l;e>=d;)if(r=d+Math.floor((e-d)/2),l=h(a[r],b,r),0>l)d=r+1;else if(0<l)e=r-1;else return r;return-1}function b(a,b,h,e,d){for(var r={},l=0,p=a.length-1,g,n,t=a.length;l<p&&(g=l+Math.floor((p-l)/2),r[g]&&(g=l+Math.ceil((p-l)/2)),r[g]=1,n=
h(a[g],b,g),e?0<n?p=g-1:l=g:0>n?l=g+1:p=g,--t););return p==l&&0===h(a[l],b)?l:d?(b=h(a[l],b),l==a.length-1&&0>b?l:0==l&&0<b?0:d?e?l+1:l-1:-1):-1}k.exports=function(a,b,h){if(!a||void 0===a.length)return-1;h||(h=k.exports._defaultComparitor());return q(a,b,h)};k.exports.first=function(a,b,h){return k.exports.closest(a,b,{exists:!0},h)};k.exports.last=function(a,b,h){return k.exports.closest(a,b,{exists:!0,end:!0},h)};k.exports.closest=function(a,f,h,e){"function"===typeof h&&(e=h,h={});if(0===a.length)return-1;
if(1===a.length)return 0;h=h||{};e||(e=this._defaultComparitor());f=b(a,f,e,h.end,h.exists?!1:!0);f>a.length-1?f=a.length-1:0>f&&(f=0);return f};k.exports.insert=function(a,b,h,e){"function"===typeof h&&(e=h,h={});h=h||{};e||(e=k.exports._defaultComparitor());if(!a.length)return a[0]=b,0;var d=k.exports.closest(a,b,e),r=e(a[d],b);if(0>r)a.splice(++d,0,b);else if(0<r)a.splice(d,0,b);else if(h.unique)a[d]=b;else{for(;0===e(a[d],b)&&!(d>=a.length-1);)d++;a.splice(d,0,b)}return d};k.exports.range=function(a,
b,h,e){e||(e=k.exports._defaultComparitor());for(var d=k.exports.closest(a,b,e),r=k.exports.closest(a,h,{end:!0},e);d<=r&&!(-1<e(a[d],b));)d++;for(;r>=d&&!(1>e(a[r],h));)r--;return[d,r]};k.exports.rangeValue=function(a,b,h,e){b=k.exports.range(a,b,h,e);return a.slice(b[0],b[1]+1)};k.exports.indexObject=function(a,b){var h=[];Object.keys(a).forEach(function(e){h.push({k:e,v:b(a[e])})});return h.sort(function(a,b){return a.v-b.v})};k.exports.cmp=function(a,b){return a-b};k.exports._defaultComparitor=
function(){var a,b;return function(h,e){void 0===a&&("object"===typeof h&&h.hasOwnProperty("v")&&(a=!0),"object"===typeof e&&e.hasOwnProperty("v")&&(b=!0));a&&(h=h.v);b&&(e=e.v);return h-e}};k.exports._binarySearch=q;k.exports._binarySearchClosest=b},{}],3:[function(c,k,m){function q(){throw Error("setTimeout has not been defined");}function b(){throw Error("clearTimeout has not been defined");}function a(g){if(l===setTimeout)return setTimeout(g,0);if((l===q||!l)&&setTimeout)return l=setTimeout,setTimeout(g,
0);try{return l(g,0)}catch(a){try{return l.call(null,g,0)}catch(b){return l.call(this,g,0)}}}function f(g){if(p===clearTimeout)return clearTimeout(g);if((p===b||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(g);try{return p(g)}catch(a){try{return p.call(null,g)}catch(d){return p.call(this,g)}}}function h(){n&&t&&(n=!1,t.length?g=t.concat(g):w=-1,g.length&&e())}function e(){if(!n){var b=a(h);n=!0;for(var d=g.length;d;){t=g;for(g=[];++w<d;)t&&t[w].run();w=-1;d=g.length}t=null;n=!1;f(b)}}function d(g,
a){this.fun=g;this.array=a}function r(){}c=k.exports={};var l,p;try{l="function"===typeof setTimeout?setTimeout:q}catch(u){l=q}try{p="function"===typeof clearTimeout?clearTimeout:b}catch(u){p=b}var g=[],n=!1,t,w=-1;c.nextTick=function(b){var p=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)p[f-1]=arguments[f];g.push(new d(b,p));1!==g.length||n||a(e)};d.prototype.run=function(){this.fun.apply(null,this.array)};c.title="browser";c.browser=!0;c.env={};c.argv=[];c.version=
"";c.versions={};c.on=r;c.addListener=r;c.once=r;c.off=r;c.removeListener=r;c.removeAllListeners=r;c.emit=r;c.prependListener=r;c.prependOnceListener=r;c.listeners=function(g){return[]};c.binding=function(g){throw Error("process.binding is not supported");};c.cwd=function(){return"/"};c.chdir=function(g){throw Error("process.chdir is not supported");};c.umask=function(){return 0}},{}],4:[function(c,k,m){k.exports=c("./lib/cache")},{"./lib/cache":5}],5:[function(c,k,m){(function(q){function b(){this.initialize.apply(this,
arguments)}var a=c("infinite-timeout"),f=c("backbone-events-standalone"),h=b.prototype;f.mixin(h);h.initialize=function(a){this.store={};this.external=a};h.set=function(b,d,e){if("undefined"===typeof b)throw Error("Required argument key is undefined");var g=Object.prototype.hasOwnProperty.call(this.store,b)?this.store[b]:void 0;g&&g.timeout&&a.clear(g.timeout);var n={value:d};"number"===typeof e&&(n.timeout=a.set(this.delInternal.bind(this,b),e));this.store[b]=n;this.external&&"function"===typeof this.external.set&&
this.external.set(b,d,e);g=g?"update":"set";this.trigger(g,b,d,e);this.trigger(g+":"+b,d,e)};h.get=function(a,b){if("undefined"===typeof a)throw Error("Required argument key is undefined");if(Object.prototype.hasOwnProperty.call(this.store,a))if("function"===typeof b)q.nextTick(b.bind(null,this.store[a].value));else return this.store[a].value;else"function"===typeof b&&this.external&&"function"===typeof this.external.get&&this.external.get(a,b)};h.del=function(a){if("undefined"===typeof a)throw Error("Required argument key is undefined");
this.external&&"function"===typeof this.external.del&&this.external.del(a);return this.delInternal(a)};h.delInternal=function(b){return Object.prototype.hasOwnProperty.call(this.store,b)?(this.store[b].timeout&&a.clear(this.store[b].timeout),delete this.store[b],this.trigger("del",b),this.trigger("del:"+b),!0):!1};h.clear=function(){var a=this.size();this.store={};this.external&&"function"===typeof this.external.clear&&this.external.clear();this.trigger("clear",a);return a};h.size=function(){var a=
0,b;for(b in this.store)Object.prototype.hasOwnProperty.call(this.store,b)&&a++;return a};h.debug=function(){return this.store};var f=new b,e=function(a){return new b(a)};e.Cache=b;for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&"function"===typeof h[d]&&(e[d]=h[d].bind(f));k.exports=e}).call(this,c("_process"))},{_process:3,"backbone-events-standalone":7,"infinite-timeout":8}],6:[function(c,k,m){(function(){var q=Array.prototype.forEach,b=Object.prototype.hasOwnProperty,a=Array.prototype.slice,
f=0,h=function(){return{keys:Object.keys||function(a){if("object"!==typeof a&&"function"!==typeof a||null===a)throw new TypeError("keys() called on a non-object");var g,b=[];for(g in a)a.hasOwnProperty(g)&&(b[b.length]=g);return b},uniqueId:function(a){var g=++f+"";return a?a+g:g},has:function(a,g){return b.call(a,g)},each:function(a,g,b){if(null!=a)if(q&&a.forEach===q)a.forEach(g,b);else if(a.length===+a.length)for(var d=0,e=a.length;d<e;d++)g.call(b,a[d],d,a);else for(d in a)this.has(a,d)&&g.call(b,
a[d],d,a)},once:function(a){var g=!1,b;return function(){if(g)return b;g=!0;b=a.apply(this,arguments);a=null;return b}}}}(),e;e={on:function(a,g,b){if(!r(this,"on",a,[g,b])||!g)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:g,context:b,ctx:b||this});return this},once:function(a,g,b){if(!r(this,"once",a,[g,b])||!g)return this;var d=this,e=h.once(function(){d.off(a,e);g.apply(this,arguments)});e._callback=g;return this.on(a,e,b)},off:function(a,g,
b){var d,e,f,l,q,c,k,m;if(!this._events||!r(this,"off",a,[g,b]))return this;if(!a&&!g&&!b)return this._events={},this;l=a?[a]:h.keys(this._events);q=0;for(c=l.length;q<c;q++)if(a=l[q],f=this._events[a]){this._events[a]=d=[];if(g||b)for(k=0,m=f.length;k<m;k++)e=f[k],(g&&g!==e.callback&&g!==e.callback._callback||b&&b!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(b){if(!this._events)return this;var g=a.call(arguments,1);if(!r(this,"trigger",b,g))return this;var d=
this._events[b],e=this._events.all;d&&l(d,g);e&&l(e,arguments);return this},stopListening:function(a,b,d){var e=this._listeners;if(!e)return this;var f=!b&&!d;"object"===typeof b&&(d=this);a&&((e={})[a._listenerId]=a);for(var l in e)e[l].off(b,d,this),f&&delete this._listeners[l];return this}};var d=/\s+/,r=function(a,b,e,f){if(!e)return!0;if("object"===typeof e){for(var l in e)a[b].apply(a,[l,e[l]].concat(f));return!1}if(d.test(e)){e=e.split(d);l=0;for(var r=e.length;l<r;l++)a[b].apply(a,[e[l]].concat(f));
return!1}return!0},l=function(a,b){var d,e=-1,f=a.length,l=b[0],r=b[1],h=b[2];switch(b.length){case 0:for(;++e<f;)(d=a[e]).callback.call(d.ctx);break;case 1:for(;++e<f;)(d=a[e]).callback.call(d.ctx,l);break;case 2:for(;++e<f;)(d=a[e]).callback.call(d.ctx,l,r);break;case 3:for(;++e<f;)(d=a[e]).callback.call(d.ctx,l,r,h);break;default:for(;++e<f;)(d=a[e]).callback.apply(d.ctx,b)}};h.each({listenTo:"on",listenToOnce:"once"},function(a,b){e[b]=function(b,g,d){var e=this._listeners||(this._listeners={}),
f=b._listenerId||(b._listenerId=h.uniqueId("l"));e[f]=b;"object"===typeof g&&(d=this);b[a](g,d,this);return this}});e.bind=e.on;e.unbind=e.off;e.mixin=function(a){h.each("on once off trigger stopListening listenTo listenToOnce bind unbind".split(" "),function(b){a[b]=this[b]},this);return a};"undefined"!==typeof m?("undefined"!==typeof k&&k.exports&&(m=k.exports=e),m.BackboneEvents=e):"function"===typeof define&&"object"==typeof define.amd?define(function(){return e}):this.BackboneEvents=e})(this)},
{}],7:[function(c,k,m){k.exports=c("./backbone-events-standalone")},{"./backbone-events-standalone":6}],8:[function(c,k,m){k.exports=c("./lib/timeout")},{"./lib/timeout":9}],9:[function(c,k,m){(function(q){var b={},a=1,f=function(h,e){var d=a++;2147483647<e?b[d]=setTimeout(f.bind(void 0,h,e-2147483647),2147483647):(0>e&&(e=0),b[d]=setTimeout(function(){delete b[d];h()},e));return d};q.set=f;q.clear=function(a){b.hasOwnProperty(a)&&(clearTimeout(b[a]),delete b[a])};q._timeouts=b})("undefined"===typeof k&&
"undefined"===typeof m?this.timeout={}:m)},{}],10:[function(c,k,m){(function(){var q=c("crypt"),b=c("charenc").utf8,a=c("is-buffer"),f=c("charenc").bin,h=function(e,d){e.constructor==String?e=d&&"binary"===d.encoding?f.stringToBytes(e):b.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var r=q.bytesToWords(e),l=8*e.length,p=1732584193,g=-271733879,n=-1732584194,t=271733878,w=0;w<r.length;w++)r[w]=(r[w]<<8|r[w]>>>24)&16711935|(r[w]<<24|r[w]>>>8)&4278255360;
r[l>>>5]|=128<<l%32;r[(l+64>>>9<<4)+14]=l;for(var l=h._ff,u=h._gg,c=h._hh,k=h._ii,w=0;w<r.length;w+=16)var m=p,G=g,E=n,y=t,p=l(p,g,n,t,r[w+0],7,-680876936),t=l(t,p,g,n,r[w+1],12,-389564586),n=l(n,t,p,g,r[w+2],17,606105819),g=l(g,n,t,p,r[w+3],22,-1044525330),p=l(p,g,n,t,r[w+4],7,-176418897),t=l(t,p,g,n,r[w+5],12,1200080426),n=l(n,t,p,g,r[w+6],17,-1473231341),g=l(g,n,t,p,r[w+7],22,-45705983),p=l(p,g,n,t,r[w+8],7,1770035416),t=l(t,p,g,n,r[w+9],12,-1958414417),n=l(n,t,p,g,r[w+10],17,-42063),g=l(g,n,t,
p,r[w+11],22,-1990404162),p=l(p,g,n,t,r[w+12],7,1804603682),t=l(t,p,g,n,r[w+13],12,-40341101),n=l(n,t,p,g,r[w+14],17,-1502002290),g=l(g,n,t,p,r[w+15],22,1236535329),p=u(p,g,n,t,r[w+1],5,-165796510),t=u(t,p,g,n,r[w+6],9,-1069501632),n=u(n,t,p,g,r[w+11],14,643717713),g=u(g,n,t,p,r[w+0],20,-373897302),p=u(p,g,n,t,r[w+5],5,-701558691),t=u(t,p,g,n,r[w+10],9,38016083),n=u(n,t,p,g,r[w+15],14,-660478335),g=u(g,n,t,p,r[w+4],20,-405537848),p=u(p,g,n,t,r[w+9],5,568446438),t=u(t,p,g,n,r[w+14],9,-1019803690),
n=u(n,t,p,g,r[w+3],14,-187363961),g=u(g,n,t,p,r[w+8],20,1163531501),p=u(p,g,n,t,r[w+13],5,-1444681467),t=u(t,p,g,n,r[w+2],9,-51403784),n=u(n,t,p,g,r[w+7],14,1735328473),g=u(g,n,t,p,r[w+12],20,-1926607734),p=c(p,g,n,t,r[w+5],4,-378558),t=c(t,p,g,n,r[w+8],11,-2022574463),n=c(n,t,p,g,r[w+11],16,1839030562),g=c(g,n,t,p,r[w+14],23,-35309556),p=c(p,g,n,t,r[w+1],4,-1530992060),t=c(t,p,g,n,r[w+4],11,1272893353),n=c(n,t,p,g,r[w+7],16,-155497632),g=c(g,n,t,p,r[w+10],23,-1094730640),p=c(p,g,n,t,r[w+13],4,681279174),
t=c(t,p,g,n,r[w+0],11,-358537222),n=c(n,t,p,g,r[w+3],16,-722521979),g=c(g,n,t,p,r[w+6],23,76029189),p=c(p,g,n,t,r[w+9],4,-640364487),t=c(t,p,g,n,r[w+12],11,-421815835),n=c(n,t,p,g,r[w+15],16,530742520),g=c(g,n,t,p,r[w+2],23,-995338651),p=k(p,g,n,t,r[w+0],6,-198630844),t=k(t,p,g,n,r[w+7],10,1126891415),n=k(n,t,p,g,r[w+14],15,-1416354905),g=k(g,n,t,p,r[w+5],21,-57434055),p=k(p,g,n,t,r[w+12],6,1700485571),t=k(t,p,g,n,r[w+3],10,-1894986606),n=k(n,t,p,g,r[w+10],15,-1051523),g=k(g,n,t,p,r[w+1],21,-2054922799),
p=k(p,g,n,t,r[w+8],6,1873313359),t=k(t,p,g,n,r[w+15],10,-30611744),n=k(n,t,p,g,r[w+6],15,-1560198380),g=k(g,n,t,p,r[w+13],21,1309151649),p=k(p,g,n,t,r[w+4],6,-145523070),t=k(t,p,g,n,r[w+11],10,-1120210379),n=k(n,t,p,g,r[w+2],15,718787259),g=k(g,n,t,p,r[w+9],21,-343485551),p=p+m>>>0,g=g+G>>>0,n=n+E>>>0,t=t+y>>>0;return q.endian([p,g,n,t])};h._ff=function(a,b,f,l,p,g,n){a=a+(b&f|~b&l)+(p>>>0)+n;return(a<<g|a>>>32-g)+b};h._gg=function(a,b,f,l,p,g,n){a=a+(b&l|f&~l)+(p>>>0)+n;return(a<<g|a>>>32-g)+b};
h._hh=function(a,b,f,l,p,g,n){a=a+(b^f^l)+(p>>>0)+n;return(a<<g|a>>>32-g)+b};h._ii=function(a,b,f,l,p,g,n){a=a+(f^(b|~l))+(p>>>0)+n;return(a<<g|a>>>32-g)+b};h._blocksize=16;h._digestsize=16;k.exports=function(a,b){if(void 0===a||null===a)throw Error("Illegal argument "+a);var r=q.wordsToBytes(h(a,b));return b&&b.asBytes?r:b&&b.asString?f.bytesToString(r):q.bytesToHex(r)}})()},{charenc:11,crypt:12,"is-buffer":13}],11:[function(c,k,m){var q={utf8:{stringToBytes:function(b){return q.bin.stringToBytes(unescape(encodeURIComponent(b)))},
bytesToString:function(b){return decodeURIComponent(escape(q.bin.bytesToString(b)))}},bin:{stringToBytes:function(b){for(var a=[],f=0;f<b.length;f++)a.push(b.charCodeAt(f)&255);return a},bytesToString:function(b){for(var a=[],f=0;f<b.length;f++)a.push(String.fromCharCode(b[f]));return a.join("")}}};k.exports=q},{}],12:[function(c,k,m){(function(){var c={rotl:function(b,a){return b<<a|b>>>32-a},rotr:function(b,a){return b<<32-a|b>>>a},endian:function(b){if(b.constructor==Number)return c.rotl(b,8)&
16711935|c.rotl(b,24)&4278255360;for(var a=0;a<b.length;a++)b[a]=c.endian(b[a]);return b},randomBytes:function(b){for(var a=[];0<b;b--)a.push(Math.floor(256*Math.random()));return a},bytesToWords:function(b){for(var a=[],f=0,h=0;f<b.length;f++,h+=8)a[h>>>5]|=b[f]<<24-h%32;return a},wordsToBytes:function(b){for(var a=[],f=0;f<32*b.length;f+=8)a.push(b[f>>>5]>>>24-f%32&255);return a},bytesToHex:function(b){for(var a=[],f=0;f<b.length;f++)a.push((b[f]>>>4).toString(16)),a.push((b[f]&15).toString(16));
return a.join("")},hexToBytes:function(b){for(var a=[],f=0;f<b.length;f+=2)a.push(parseInt(b.substr(f,2),16));return a},bytesToBase64:function(b){for(var a=[],f=0;f<b.length;f+=3)for(var h=b[f]<<16|b[f+1]<<8|b[f+2],e=0;4>e;e++)8*f+6*e<=8*b.length?a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>>6*(3-e)&63)):a.push("=");return a.join("")},base64ToBytes:function(b){b=b.replace(/[^A-Z0-9+\/]/ig,"");for(var a=[],f=0,h=0;f<b.length;h=++f%4)0!=h&&a.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b.charAt(f-
1))&Math.pow(2,-2*h+8)-1)<<2*h|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b.charAt(f))>>>6-2*h);return a}};k.exports=c})()},{}],13:[function(c,k,m){function q(b){return!!b.constructor&&"function"===typeof b.constructor.isBuffer&&b.constructor.isBuffer(b)}k.exports=function(b){return null!=b&&(q(b)||"function"===typeof b.readFloatLE&&"function"===typeof b.slice&&q(b.slice(0,0))||!!b._isBuffer)}},{}],14:[function(c,k,m){function q(){this.argTypes=[];this.shimArgs=[];
this.arrayArgs=[];this.arrayBlockIndices=[];this.scalarArgs=[];this.offsetArgs=[];this.offsetArgIndex=[];this.indexArgs=[];this.shapeArgs=[];this.funcName="";this.post=this.body=this.pre=null;this.debug=!1}var b=c("./lib/thunk.js");k.exports=function(a){var f=new q;f.pre=a.pre;f.body=a.body;f.post=a.post;var h=a.args.slice(0);f.argTypes=h;for(var e=0;e<h.length;++e){var d=h[e];if("array"===d||"object"===typeof d&&d.blockIndices){f.argTypes[e]="array";f.arrayArgs.push(e);f.arrayBlockIndices.push(d.blockIndices?
d.blockIndices:0);f.shimArgs.push("array"+e);if(e<f.pre.args.length&&0<f.pre.args[e].count)throw Error("cwise: pre() block may not reference array args");if(e<f.post.args.length&&0<f.post.args[e].count)throw Error("cwise: post() block may not reference array args");}else if("scalar"===d)f.scalarArgs.push(e),f.shimArgs.push("scalar"+e);else if("index"===d){f.indexArgs.push(e);if(e<f.pre.args.length&&0<f.pre.args[e].count)throw Error("cwise: pre() block may not reference array index");if(e<f.body.args.length&&
f.body.args[e].lvalue)throw Error("cwise: body() block may not write to array index");if(e<f.post.args.length&&0<f.post.args[e].count)throw Error("cwise: post() block may not reference array index");}else if("shape"===d){f.shapeArgs.push(e);if(e<f.pre.args.length&&f.pre.args[e].lvalue)throw Error("cwise: pre() block may not write to array shape");if(e<f.body.args.length&&f.body.args[e].lvalue)throw Error("cwise: body() block may not write to array shape");if(e<f.post.args.length&&f.post.args[e].lvalue)throw Error("cwise: post() block may not write to array shape");
}else if("object"===typeof d&&d.offset)f.argTypes[e]="offset",f.offsetArgs.push({array:d.array,offset:d.offset}),f.offsetArgIndex.push(e);else throw Error("cwise: Unknown argument type "+h[e]);}if(0>=f.arrayArgs.length)throw Error("cwise: No array arguments specified");if(f.pre.args.length>h.length)throw Error("cwise: Too many arguments in pre() block");if(f.body.args.length>h.length)throw Error("cwise: Too many arguments in body() block");if(f.post.args.length>h.length)throw Error("cwise: Too many arguments in post() block");
f.debug=!!a.printCode||!!a.debug;f.funcName=a.funcName||"cwise";f.blockSize=a.blockSize||64;return b(f)}},{"./lib/thunk.js":16}],15:[function(c,k,m){function q(a,b,f){var l=a.length,p=b.arrayArgs.length;b=0<b.indexArgs.length;var g=[],n=[],t=0,h=0,c,q;for(c=0;c<l;++c)n.push(["i",c,"=0"].join(""));for(q=0;q<p;++q)for(c=0;c<l;++c)h=t,t=a[c],0===c?n.push(["d",q,"s",c,"=t",q,"p",t].join("")):n.push(["d",q,"s",c,"=(t",q,"p",t,"-s",h,"*t",q,"p",h,")"].join(""));g.push("var "+n.join(","));for(c=l-1;0<=c;--c)t=
a[c],g.push(["for(i",c,"=0;i",c,"<s",t,";++i",c,"){"].join(""));g.push(f);for(c=0;c<l;++c){h=t;t=a[c];for(q=0;q<p;++q)g.push(["p",q,"+=d",q,"s",c].join(""));b&&(0<c&&g.push(["index[",h,"]-=s",h].join("")),g.push(["++index[",t,"]"].join("")));g.push("}")}return g.join("\n")}function b(a,b,f,l){for(var h=b.length,g=f.arrayArgs.length,n=f.blockSize,t=0<f.indexArgs.length,c=[],u=0;u<g;++u)c.push(["var offset",u,"=p",u].join(""));for(u=a;u<h;++u)c.push(["for(var j"+u+"=SS[",b[u],"]|0;j",u,">0;){"].join("")),
c.push(["if(j",u,"<",n,"){"].join("")),c.push(["s",b[u],"=j",u].join("")),c.push(["j",u,"=0"].join("")),c.push(["}else{s",b[u],"=",n].join("")),c.push(["j",u,"-=",n,"}"].join("")),t&&c.push(["index[",b[u],"]=j",u].join(""));for(u=0;u<g;++u){n=["offset"+u];for(t=a;t<h;++t)n.push(["j",t,"*t",u,"p",b[t]].join(""));c.push(["p",u,"=(",n.join("+"),")"].join(""))}c.push(q(b,f,l));for(u=a;u<h;++u)c.push("}");return c.join("\n")}function a(a,b,f){for(var l=a.body,c=[],g=[],n=0;n<a.args.length;++n){var h=a.args[n];
if(!(0>=h.count)){var q=new RegExp(h.name,"g"),u="",k=b.arrayArgs.indexOf(n);switch(b.argTypes[n]){case "offset":var m=b.offsetArgIndex.indexOf(n),k=b.offsetArgs[m].array,u="+q"+m;case "array":var u="p"+k+u,v="l"+n,m="a"+k;if(0===b.arrayBlockIndices[k])1===h.count?"generic"===f[k]?h.lvalue?(c.push(["var ",v,"=",m,".get(",u,")"].join("")),l=l.replace(q,v),g.push([m,".set(",u,",",v,")"].join(""))):l=l.replace(q,[m,".get(",u,")"].join("")):l=l.replace(q,[m,"[",u,"]"].join("")):"generic"===f[k]?(c.push(["var ",
v,"=",m,".get(",u,")"].join("")),l=l.replace(q,v),h.lvalue&&g.push([m,".set(",u,",",v,")"].join(""))):(c.push(["var ",v,"=",m,"[",u,"]"].join("")),l=l.replace(q,v),h.lvalue&&g.push([m,"[",u,"]=",v].join("")));else{q=[h.name];h=[u];for(u=0;u<Math.abs(b.arrayBlockIndices[k]);u++)q.push("\\s*\\[([^\\]]+)\\]"),h.push("$"+(u+1)+"*t"+k+"b"+u);q=new RegExp(q.join(""),"g");u=h.join("+");if("generic"===f[k])throw Error("cwise: Generic arrays not supported in combination with blocks!");l=l.replace(q,[m,"[",
u,"]"].join(""))}break;case "scalar":l=l.replace(q,"Y"+b.scalarArgs.indexOf(n));break;case "index":l=l.replace(q,"index");break;case "shape":l=l.replace(q,"shape")}}}return[c.join("\n"),l,g.join("\n")].join("\n").trim()}function f(a){for(var b=Array(a.length),f=!0,l=0;l<a.length;++l){var c=a[l],g=c.match(/\d+/),g=g?g[0]:"";0===c.charAt(0)?b[l]="u"+c.charAt(1)+g:b[l]=c.charAt(0)+g;0<l&&(f=f&&b[l]===b[l-1])}return f?b[0]:b.join("")}var h=c("uniq");k.exports=function(e,d){for(var c=d[1].length-Math.abs(e.arrayBlockIndices[0])|
0,l=Array(e.arrayArgs.length),p=Array(e.arrayArgs.length),g=0;g<e.arrayArgs.length;++g)p[g]=d[2*g],l[g]=d[2*g+1];for(var n=[],t=[],w=[],k=[],m=[],g=0;g<e.arrayArgs.length;++g){0>e.arrayBlockIndices[g]?(w.push(0),k.push(c),n.push(c),t.push(c+e.arrayBlockIndices[g])):(w.push(e.arrayBlockIndices[g]),k.push(e.arrayBlockIndices[g]+c),n.push(0),t.push(e.arrayBlockIndices[g]));for(var x=[],v=0;v<l[g].length;v++)w[g]<=l[g][v]&&l[g][v]<k[g]&&x.push(l[g][v]-w[g]);m.push(x)}t=["SS"];k=["'use strict'"];x=[];
for(v=0;v<c;++v)x.push(["s",v,"=SS[",v,"]"].join(""));for(g=0;g<e.arrayArgs.length;++g){t.push("a"+g);t.push("t"+g);t.push("p"+g);for(v=0;v<c;++v)x.push(["t",g,"p",v,"=t",g,"[",w[g]+v,"]"].join(""));for(v=0;v<Math.abs(e.arrayBlockIndices[g]);++v)x.push(["t",g,"b",v,"=t",g,"[",n[g]+v,"]"].join(""))}for(g=0;g<e.scalarArgs.length;++g)t.push("Y"+g);0<e.shapeArgs.length&&x.push("shape=SS.slice(0)");if(0<e.indexArgs.length){v=Array(c);for(g=0;g<c;++g)v[g]="0";x.push(["index=[",v.join(","),"]"].join(""))}for(g=
0;g<e.offsetArgs.length;++g){n=e.offsetArgs[g];w=[];for(v=0;v<n.offset.length;++v)0!==n.offset[v]&&(1===n.offset[v]?w.push(["t",n.array,"p",v].join("")):w.push([n.offset[v],"*t",n.array,"p",v].join("")));0===w.length?x.push("q"+g+"=0"):x.push(["q",g,"=",w.join("+")].join(""))}g=h([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));x=x.concat(g);k.push("var "+x.join(","));for(g=0;g<e.arrayArgs.length;++g)k.push("p"+g+"|=0");3<e.pre.body.length&&k.push(a(e.pre,e,p));g=a(e.body,
e,p);a:for(v=0,x=m[0].length;v<x;){for(n=1;n<m.length;++n)if(m[n][v]!==m[0][v])break a;++v}v<c?k.push(b(v,m[0],e,g)):k.push(q(m[0],e,g));3<e.post.body.length&&k.push(a(e.post,e,p));e.debug&&console.log("-----Generated cwise routine for ",d,":\n"+k.join("\n")+"\n----------");c=[e.funcName||"unnamed","_cwise_loop_",l[0].join("s"),"m",v,f(p)].join("");return(new Function(["function ",c,"(",t.join(","),"){",k.join("\n"),"} return ",c].join("")))()}},{uniq:17}],16:[function(c,k,m){var q=c("./compile.js");
k.exports=function(b){var a=["'use strict'","var CACHED={}"],f=[];a.push(["return function ",b.funcName+"_cwise_thunk","(",b.shimArgs.join(","),"){"].join(""));for(var c=[],e=[],d=[["array",b.arrayArgs[0],".shape.slice(",Math.max(0,b.arrayBlockIndices[0]),0>b.arrayBlockIndices[0]?","+b.arrayBlockIndices[0]+")":")"].join("")],r=[],l=[],p=0;p<b.arrayArgs.length;++p){var g=b.arrayArgs[p];f.push(["t",g,"=array",g,".dtype,r",g,"=array",g,".order"].join(""));c.push("t"+g);c.push("r"+g);e.push("t"+g);e.push("r"+
g+".join()");d.push("array"+g+".data");d.push("array"+g+".stride");d.push("array"+g+".offset|0");0<p&&(r.push("array"+b.arrayArgs[0]+".shape.length===array"+g+".shape.length+"+(Math.abs(b.arrayBlockIndices[0])-Math.abs(b.arrayBlockIndices[p]))),l.push("array"+b.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,b.arrayBlockIndices[0])+"]===array"+g+".shape[shapeIndex+"+Math.max(0,b.arrayBlockIndices[p])+"]"))}1<b.arrayArgs.length&&(a.push("if (!("+r.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),
a.push("for(var shapeIndex=array"+b.arrayArgs[0]+".shape.length-"+Math.abs(b.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),a.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),a.push("}"));for(p=0;p<b.scalarArgs.length;++p)d.push("scalar"+b.scalarArgs[p]);f.push(["type=[",e.join(","),"].join()"].join(""));f.push("proc=CACHED[type]");a.push("var "+f.join(","));a.push(["if(!proc){CACHED[type]=proc=compile([",c.join(","),"])}return proc(",d.join(","),
")}"].join(""));b.debug&&console.log("-----Generated thunk:\n"+a.join("\n")+"\n----------");return(new Function("compile",a.join("\n")))(q.bind(void 0,b))}},{"./compile.js":15}],17:[function(c,k,m){k.exports=function(c,b,a){if(0===c.length)return c;if(b){a||c.sort(b);a=1;for(var f=c.length,h=c[0],e=c[0],d=1;d<f;++d)e=h,h=c[d],b(h,e)&&(d===a?a++:c[a++]=h);c.length=a;return c}a||c.sort();b=1;a=c.length;f=c[0];h=c[0];for(e=1;e<a;++e)h=f,f=c[e],f!==h&&(e===b?b++:c[b++]=f);c.length=b;return c}},{}],18:[function(c,
k,m){k.exports=c("cwise-compiler")},{"cwise-compiler":14}],19:[function(c,k,m){k.exports=function(c){var b=c.data,a=c.stride[0],f=c.offset,h=0;for(c=c.shape[0]-1;0<=c;c--,f+=a)h+=Math.abs(b[f]);return h}},{}],20:[function(c,k,m){k.exports=function(c,b,a){var f=b.data,h=a.data,e=b.stride[0],d=a.stride[0],r=b.offset;a=a.offset;for(b=b.shape[0]-1;0<=b;b--,r+=e,a+=d)h[a]+=c*f[r]}},{}],21:[function(c,k,m){k.exports=function(c,b){var a,f=c.data,h=b.data,e=c.stride[0],d=b.stride[0],r=c.offset,l=b.offset;
for(a=c.shape[0]-1;0<=a;a--,r+=e,l+=d)h[l]=f[r]}},{}],22:[function(c,k,m){k.exports=function(c,b,a){var f=b.data,h=a.data,e=b.stride[0],d=a.stride[0],r=b.offset;a=a.offset;for(b=b.shape[0]-1;0<=b;b--,r+=e,a+=d)h[a]=c*f[r]}},{}],23:[function(c,k,m){k.exports=function(c,b){var a,f,h=c.data,e=c.stride[0],d=c.offset,r=0;if(c===b)for(a=c.shape[0]-1;0<=a;a--,d+=e)f=h[d],r+=f*f;else{f=b.data;var l=b.stride[0],p=b.offset;for(a=c.shape[0]-1;0<=a;a--,d+=e,p+=l)r+=f[p]*h[d]}return r}},{}],24:[function(c,k,m){k.exports=
function(c){var b,a,f=-Infinity,h=c.data,e=c.stride[0],d=c.offset,r=c.shape[0];for(c=0;c<r;c++,d+=e)b=Math.abs(h[d]),b>f&&(f=b,a=c);return a}},{}],25:[function(c,k,m){k.exports.swap=c("./swap");k.exports.scal=c("./scal");k.exports.copy=c("./copy");k.exports.axpy=c("./axpy");k.exports.dot=c("./dot");k.exports.cpsc=c("./cpsc");k.exports.nrm2=c("./nrm2");k.exports.asum=c("./asum");k.exports.iamax=c("./iamax");k.exports.rotg=c("./rotg")},{"./asum":19,"./axpy":20,"./copy":21,"./cpsc":22,"./dot":23,"./iamax":24,
"./nrm2":26,"./rotg":27,"./scal":28,"./swap":29}],26:[function(c,k,m){k.exports=function(c){var b,a=c.data,f=c.stride[0],h=c.offset,e=0;for(c=c.shape[0]-1;0<=c;c--,h+=f)if(b=a[h],0===e&&0===b)e=0;else{var e=Math.abs(e),d=Math.abs(b);b=Math.min(e,d);e=Math.max(e,d);b/=e;e*=Math.sqrt(1+b*b)}return e}},{}],27:[function(c,k,m){Math.sign=Math.sign||function(c){c=+c;return 0===c||isNaN(c)?c:0<c?1:-1};k.exports=function(c,b,a){var f=0,h=0,e=0,d=e=0;0===b?(f=Math.sign(c),h=0,e=Math.abs(c)):0===c?(f=0,h=Math.sign(b),
e=Math.abs(b)):Math.abs(c)>Math.abs(b)?(e=b/c,d=Math.sign(c)*Math.sqrt(1+e*e),f=1/d,h=e*f,e=c*d):(e=c/b,d=Math.sign(c)*Math.sqrt(1+e*e),h=1/d,f=e*h,e=b*d);if(void 0!==a&&2<a.length)a[0]=f,a[1]=h,a[2]=e;else return[f,h,e]}},{}],28:[function(c,k,m){k.exports=function(c,b){var a,f=b.data,h=b.stride[0],e=b.offset;for(a=b.shape[0]-1;0<=a;a--,e+=h)f[e]*=c}},{}],29:[function(c,k,m){k.exports=function(c,b){var a,f,h=c.data,e=b.data,d=c.stride[0],r=b.stride[0],l=c.offset,p=b.offset;for(a=c.shape[0]-1;0<=a;a--,
l+=d,p+=r)f=h[l],h[l]=e[p],e[p]=f}},{}],30:[function(c,k,m){function q(a){if(!a)return f;for(var b=0;b<a.args.length;++b){var d=a.args[b];a.args[b]=0===b?{name:d,lvalue:!0,rvalue:!!a.rvalue,count:a.count||1}:{name:d,lvalue:!1,rvalue:!0,count:1}}a.thisVars||(a.thisVars=[]);a.localVars||(a.localVars=[]);return a}function b(b){for(var d=[],c=0;c<b.args.length;++c)d.push("a"+c);d=new Function("P",["return function ",b.funcName,"_ndarrayops(",d.join(","),") {P(",d.join(","),");return a0}"].join(""));b=
a({args:b.args,pre:q(b.pre),body:q(b.body),post:q(b.proc),funcName:b.funcName});return d(b)}var a=c("cwise-compiler"),f={body:"",args:[],thisVars:[],localVars:[]},h={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var a in h){var d=h[a];m[a]=b({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+d+"c"},funcName:a});m[a+"eq"]=b({args:["array","array"],body:{args:["a","b"],body:"a"+d+"=b"},rvalue:!0,funcName:a+"eq"});
m[a+"s"]=b({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+d+"s"},funcName:a+"s"});m[a+"seq"]=b({args:["array","scalar"],body:{args:["a","s"],body:"a"+d+"=s"},rvalue:!0,funcName:a+"seq"})}})();var e={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var a in e){var d=e[a];m[a]=b({args:["array","array"],body:{args:["a","b"],body:"a="+d+"b"},funcName:a});m[a+"eq"]=b({args:["array"],body:{args:["a"],body:"a="+d+"a"},rvalue:!0,count:2,funcName:a+"eq"})}})();var d={and:"&&",or:"||",
eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var a in d){var c=d[a];m[a]=b({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+c+"c"},funcName:a});m[a+"s"]=b({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+c+"s"},funcName:a+"s"});m[a+"eq"]=b({args:["array","array"],body:{args:["a","b"],body:"a=a"+c+"b"},rvalue:!0,count:2,funcName:a+"eq"});m[a+"seq"]=b({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+c+"s"},rvalue:!0,count:2,funcName:a+
"seq"})}})();var r="abs acos asin atan ceil cos exp floor log round sin sqrt tan".split(" ");(function(){for(var a=0;a<r.length;++a){var d=r[a];m[d]=b({args:["array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:d});m[d+"eq"]=b({args:["array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"eq"})}})();var l=["max","min",
"atan2","pow"];(function(){for(var a=0;a<l.length;++a){var d=l[a];m[d]=b({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:d});m[d+"s"]=b({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:d+"s"});m[d+"eq"]=b({args:["array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},
body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"eq"});m[d+"seq"]=b({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"seq"})}})();var p=["atan2","pow"];(function(){for(var a=0;a<p.length;++a){var d=p[a];m[d+"op"]=b({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",
thisVars:["this_f"]},funcName:d+"op"});m[d+"ops"]=b({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:d+"ops"});m[d+"opeq"]=b({args:["array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"opeq"});m[d+"opseq"]=b({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},
body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"opseq"})}})();m.any=a({args:["array"],pre:f,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"});m.all=a({args:["array"],pre:f,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},
funcName:"all"});m.sum=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"});m.prod=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],
thisVars:["this_s"],body:"return this_s"},funcName:"prod"});m.norm2squared=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"});m.norm2=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",
localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"});m.norminf=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"});m.norm1=a({args:["array"],pre:{args:[],localVars:[],
thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"});m.sup=a({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",
args:[],thisVars:["this_h"],localVars:[]}});m.inf=a({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}});m.argmin=a({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,
rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},
post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}});m.argmax=a({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",
args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}});m.random=b({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"});m.assign=b({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"});m.assigns=
b({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"});m.equals=a({args:["array","array"],pre:f,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":14}],31:[function(c,k,m){function q(b,a,c){var h=b[c]|0;if(0>=h)return[];var e=Array(h),d;if(c===b.length-1)for(d=0;d<h;++d)e[d]=a;else for(d=
0;d<h;++d)e[d]=q(b,a,c+1);return e}k.exports=function(b,a){"undefined"===typeof a&&(a=0);switch(typeof b){case "number":if(0<b){var c=b|0,h=a,e,d;e=Array(c);for(d=0;d<c;++d)e[d]=h;return e}break;case "object":if("number"===typeof b.length)return q(b,a,0)}return[]}},{}],32:[function(c,k,m){var q=c("dup"),b=c("cwise/lib/wrapper")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_1_a,_inline_1_e=_inline_1_arg1_;for(_inline_1_a=0;_inline_1_a<_inline_1_arg2_.length-1;++_inline_1_a)_inline_1_e=_inline_1_e[_inline_1_arg2_[_inline_1_a]];_inline_1_e[_inline_1_arg2_[_inline_1_arg2_.length-1]]=_inline_1_arg0_}",
args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_a","_inline_1_e"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"unpackCwise",blockSize:64});k.exports=function(a){var c=q(a.shape);b(a,c);return c}},{"cwise/lib/wrapper":18,dup:31}],33:[function(c,k,m){function q(a,b){return a[0]-b[0]}function b(){var a=this.stride,b=Array(a.length),
d;for(d=0;d<b.length;++d)b[d]=[Math.abs(a[d]),d];b.sort(q);a=Array(b.length);for(d=0;d<a.length;++d)a[d]=b[d][1];return a}function a(a,d){var c=["View",d,"d",a].join("");0>d&&(c="View_Nil"+a);var e="generic"===a;if(-1===d){var f,c=new Function("function "+c+"(a){this.data=a;};var proto="+c+".prototype;proto.dtype='"+a+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+c+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+
c+"(a){return new "+c+"(a);}");return c()}if(0===d)return c=new Function("TrivialArray","function "+c+"(a,d) {this.data = a;this.offset = d};var proto="+c+".prototype;proto.dtype='"+a+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+c+"_copy() {return new "+c+"(this.data,this.offset)};proto.pick=function "+c+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+
c+"_get(){return "+(e?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+c+"_set(v){return "+(e?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+c+"(a,b,c,d){return new "+c+"(a,d)}"),c(r[a][0]);f=["'use strict'"];var k=h(d),m=k.map(function(a){return"i"+a}),q="this.offset+"+k.map(function(a){return"this.stride["+a+"]*i"+a}).join("+"),x=k.map(function(a){return"b"+a}).join(","),v=k.map(function(a){return"c"+a}).join(",");f.push("function "+
c+"(a,"+x+","+v+",d){this.data=a","this.shape=["+x+"]","this.stride=["+v+"]","this.offset=d|0}","var proto="+c+".prototype","proto.dtype='"+a+"'","proto.dimension="+d);f.push("Object.defineProperty(proto,'size',{get:function "+c+"_size(){return "+k.map(function(a){return"this.shape["+a+"]"}).join("*"),"}})");1===d?f.push("proto.order=[0]"):(f.push("Object.defineProperty(proto,'order',{get:"),4>d?(f.push("function "+c+"_order(){"),2===d?f.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):
3===d&&f.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):f.push("ORDER})"));f.push("proto.set=function "+c+"_set("+m.join(",")+",v){");e?f.push("return this.data.set("+q+",v)}"):f.push("return this.data["+q+"]=v}");f.push("proto.get=function "+c+"_get("+m.join(",")+"){");e?f.push("return this.data.get("+
q+")}"):f.push("return this.data["+q+"]}");f.push("proto.index=function "+c+"_index(",m.join(),"){return "+q+"}");f.push("proto.hi=function "+c+"_hi("+m.join(",")+"){return new "+c+"(this.data,"+k.map(function(a){return["(typeof i",a,"!=='number'||i",a,"<0)?this.shape[",a,"]:i",a,"|0"].join("")}).join(",")+","+k.map(function(a){return"this.stride["+a+"]"}).join(",")+",this.offset)}");e=k.map(function(a){return"a"+a+"=this.shape["+a+"]"});q=k.map(function(a){return"c"+a+"=this.stride["+a+"]"});f.push("proto.lo=function "+
c+"_lo("+m.join(",")+"){var b=this.offset,d=0,"+e.join(",")+","+q.join(","));for(e=0;e<d;++e)f.push("if(typeof i"+e+"==='number'&&i"+e+">=0){d=i"+e+"|0;b+=c"+e+"*d;a"+e+"-=d}");f.push("return new "+c+"(this.data,"+k.map(function(a){return"a"+a}).join(",")+","+k.map(function(a){return"c"+a}).join(",")+",b)}");f.push("proto.step=function "+c+"_step("+m.join(",")+"){var "+k.map(function(a){return"a"+a+"=this.shape["+a+"]"}).join(",")+","+k.map(function(a){return"b"+a+"=this.stride["+a+"]"}).join(",")+
",c=this.offset,d=0,ceil=Math.ceil");for(e=0;e<d;++e)f.push("if(typeof i"+e+"==='number'){d=i"+e+"|0;if(d<0){c+=b"+e+"*(a"+e+"-1);a"+e+"=ceil(-a"+e+"/d)}else{a"+e+"=ceil(a"+e+"/d)}b"+e+"*=d}");f.push("return new "+c+"(this.data,"+k.map(function(a){return"a"+a}).join(",")+","+k.map(function(a){return"b"+a}).join(",")+",c)}");q=Array(d);x=Array(d);for(e=0;e<d;++e)q[e]="a[i"+e+"]",x[e]="b[i"+e+"]";f.push("proto.transpose=function "+c+"_transpose("+m+"){"+m.map(function(a,b){return a+"=("+a+"===undefined?"+
b+":"+a+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+c+"(this.data,"+q.join(",")+","+x.join(",")+",this.offset)}");f.push("proto.pick=function "+c+"_pick("+m+"){var a=[],b=[],c=this.offset");for(e=0;e<d;++e)f.push("if(typeof i"+e+"==='number'&&i"+e+">=0){c=(c+this.stride["+e+"]*i"+e+")|0}else{a.push(this.shape["+e+"]);b.push(this.stride["+e+"])}");f.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}");f.push("return function construct_"+c+"(data,shape,stride,offset){return new "+
c+"(data,"+k.map(function(a){return"shape["+a+"]"}).join(",")+","+k.map(function(a){return"stride["+a+"]"}).join(",")+",offset)}");c=new Function("CTOR_LIST","ORDER",f.join("\n"));return c(r[a],b)}function f(a){if(e(a))return"buffer";if(d)switch(Object.prototype.toString.call(a)){case "[object Float64Array]":return"float64";case "[object Float32Array]":return"float32";case "[object Int8Array]":return"int8";case "[object Int16Array]":return"int16";case "[object Int32Array]":return"int32";case "[object Uint8Array]":return"uint8";
case "[object Uint16Array]":return"uint16";case "[object Uint32Array]":return"uint32";case "[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(a)?"array":"generic"}var h=c("iota-array"),e=c("is-buffer"),d="undefined"!==typeof Float64Array,r={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};(function(){for(var b in r)r[b].push(a(b,-1))});k.exports=function(b,d,c,e){if(void 0===b){var h=r.array[0];return h([])}"number"===
typeof b&&(b=[b]);void 0===d&&(d=[b.length]);h=d.length;if(void 0===c){c=Array(h);for(var k=h-1,m=1;0<=k;--k)c[k]=m,m*=d[k]}if(void 0===e)for(k=e=0;k<h;++k)0>c[k]&&(e-=(d[k]-1)*c[k]);k=f(b);for(m=r[k];m.length<=h+1;)m.push(a(k,m.length-1));h=m[h+1];return h(b,d,c,e)}},{"iota-array":34,"is-buffer":35}],34:[function(c,k,m){k.exports=function(c){for(var b=Array(c),a=0;a<c;++a)b[a]=a;return b}},{}],35:[function(c,k,m){arguments[4][13][0].apply(m,arguments)},{dup:13}],36:[function(c,k,m){Object.defineProperty(m,
"__esModule",{value:!0});m.linear=function(b){return b};m.relu=function(b){q["default"].maxseq(b,0);return b};m.sigmoid=function(b){q["default"].recipeq(q["default"].addseq(q["default"].expeq(q["default"].negeq(b)),1));return b};m.hard_sigmoid=function(b){q["default"].addseq(q["default"].mulseq(b,.2),.5);for(var a=0;a<b.size;a++)1<b.data[a]&&(b.data[a]=1),0>b.data[a]&&(b.data[a]=0);return b};m.tanh=function(b){q["default"].expeq(q["default"].mulseq(b,2));for(var a=0;a<b.size;a++)b.data[a]=(b.data[a]-
1)/(b.data[a]+1);return b};m.softmax=function(b){q["default"].expeq(b);var a=q["default"].sum(b);q["default"].divseq(b,a);return b};var q=(c=c("ndarray-ops"))&&c.__esModule?c:{"default":c}},{"ndarray-ops":30}],37:[function(c,k,m){Object.defineProperty(m,"__esModule",{value:!0});c=(c=c("./neuralnet"))&&c.__esModule?c:{"default":c};"function"===typeof version&&version(170);m["default"]=c["default"]},{"./neuralnet":42}],38:[function(c,k,m){Object.defineProperty(m,"__esModule",{value:!0});m.timeDistributedDense=
m.repeatVector=m.rJZS2Layer=void 0;c=c("./layers/recurrent");m.rJZS2Layer=c.rJZS2Layer;m.repeatVector=c.repeatVector;m.timeDistributedDense=c.timeDistributedDense},{"./layers/recurrent":39}],39:[function(c,k,m){function q(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(m,"__esModule",{value:!0});m.rLSTMLayer=function(d,c,l){var k=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"tanh",g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"hard_sigmoid",n=5<arguments.length&&
void 0!==arguments[5]?arguments[5]:!1,m=(0,f["default"])(d,l.W_xi),w=(0,f["default"])(d,l.W_hi),q=(0,f["default"])(d,l.b_i),Q=(0,f["default"])(d,l.W_xc),x=(0,f["default"])(d,l.W_hc),v=(0,f["default"])(d,l.b_c),G=(0,f["default"])(d,l.W_xf),E=(0,f["default"])(d,l.W_hf),y=(0,f["default"])(d,l.b_f),I=(0,f["default"])(d,l.W_xo),A=(0,f["default"])(d,l.W_ho),B=(0,f["default"])(d,l.b_o),D=(0,b["default"])(new d(c.shape[1]),[c.shape[1]]),F=(0,b["default"])(new d(q.shape[0]),[q.shape[0]]),N=(0,b["default"])(new d(q.shape[0]),
[q.shape[0]]),J=(0,b["default"])(new d(q.shape[0]),[q.shape[0]]),C=(0,b["default"])(new d(y.shape[0]),[y.shape[0]]),O=(0,b["default"])(new d(y.shape[0]),[y.shape[0]]),z=(0,b["default"])(new d(y.shape[0]),[y.shape[0]]),K=(0,b["default"])(new d(B.shape[0]),[B.shape[0]]),P=(0,b["default"])(new d(B.shape[0]),[B.shape[0]]),H=(0,b["default"])(new d(B.shape[0]),[B.shape[0]]),L=(0,b["default"])(new d(v.shape[0]),[v.shape[0]]),M=(0,b["default"])(new d(v.shape[0]),[v.shape[0]]),R=(0,b["default"])(new d(v.shape[0]),
[v.shape[0]]),V=(0,b["default"])(new d(v.shape[0]),[v.shape[0]]),W=(0,b["default"])(new d(v.shape[0]),[v.shape[0]]),S=(0,b["default"])(new d(v.shape[0]),[v.shape[0]]),T=(0,b["default"])(new d(v.shape[0]),[v.shape[0]]),X=void 0;n&&(X=(0,b["default"])(new d(c.shape[0]*v.shape[0]),[c.shape[0],v.shape[0]]));a["default"].assigns(S,0);for(var U=0;U<c.shape[0];U++)a["default"].assign(D,c.pick(U,null)),a["default"].assign(T,S),(0,h["default"])(N,m.transpose(1,0),D),(0,h["default"])(J,w.transpose(1,0),T),
a["default"].assigns(F,0),a["default"].addeq(F,N),a["default"].addeq(F,J),a["default"].addeq(F,q),e[g](F),(0,h["default"])(O,G.transpose(1,0),D),(0,h["default"])(z,E.transpose(1,0),T),a["default"].assigns(C,0),a["default"].addeq(C,O),a["default"].addeq(C,z),a["default"].addeq(C,y),e[g](C),(0,h["default"])(P,I.transpose(1,0),D),(0,h["default"])(H,A.transpose(1,0),T),a["default"].assigns(K,0),a["default"].addeq(K,P),a["default"].addeq(K,H),a["default"].addeq(K,B),e[g](K),(0,h["default"])(M,Q.transpose(1,
0),D),(0,h["default"])(R,x.transpose(1,0),T),a["default"].assigns(L,0),a["default"].addeq(L,M),a["default"].addeq(L,R),a["default"].addeq(L,v),e[k](L),a["default"].muleq(L,F),a["default"].mul(V,C,W),a["default"].addeq(L,V),a["default"].assign(W,L),a["default"].mul(S,K,e[k](L)),n&&a["default"].assign(X.pick(U,null),S);return S};m.rGRULayer=function(d,c,l){var k=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"tanh",g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"hard_sigmoid",n=5<
arguments.length&&void 0!==arguments[5]?arguments[5]:!1,m=(0,f["default"])(d,l.W_xz),q=(0,f["default"])(d,l.W_hz),u=(0,f["default"])(d,l.b_z),Q=(0,f["default"])(d,l.W_xr),x=(0,f["default"])(d,l.W_hr),v=(0,f["default"])(d,l.b_r),G=(0,f["default"])(d,l.W_xh),E=(0,f["default"])(d,l.W_hh),y=(0,f["default"])(d,l.b_h),I=(0,b["default"])(new d(c.shape[1]),[c.shape[1]]),A=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),B=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),D=(0,b["default"])(new d(u.shape[0]),
[u.shape[0]]),F=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),N=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),J=(0,b["default"])(new d(v.shape[0]),[v.shape[0]]),C=(0,b["default"])(new d(v.shape[0]),[v.shape[0]]),O=(0,b["default"])(new d(v.shape[0]),[v.shape[0]]),z=(0,b["default"])(new d(y.shape[0]),[y.shape[0]]),K=(0,b["default"])(new d(y.shape[0]),[y.shape[0]]),P=(0,b["default"])(new d(y.shape[0]),[y.shape[0]]),H=(0,b["default"])(new d(y.shape[0]),[y.shape[0]]),L=void 0;n&&(L=(0,b["default"])(new d(c.shape[0]*
y.shape[0]),[c.shape[0],y.shape[0]]));a["default"].assigns(z,0);for(var M=0;M<c.shape[0];M++)a["default"].assign(I,c.pick(M,null)),a["default"].assign(H,z),(0,h["default"])(F,m.transpose(1,0),I),(0,h["default"])(N,q.transpose(1,0),H),a["default"].assigns(D,0),a["default"].addeq(D,F),a["default"].addeq(D,N),a["default"].addeq(D,u),e[g](D),(0,h["default"])(C,Q.transpose(1,0),I),(0,h["default"])(O,x.transpose(1,0),H),a["default"].assigns(J,0),a["default"].addeq(J,C),a["default"].addeq(J,O),a["default"].addeq(J,
v),e[g](J),(0,h["default"])(K,G.transpose(1,0),I),a["default"].mul(A,J,H),(0,h["default"])(P,E.transpose(1,0),A),a["default"].assigns(z,0),a["default"].addeq(z,K),a["default"].addeq(z,P),a["default"].addeq(z,y),e[k](z),a["default"].mul(A,D,H),a["default"].assign(B,D),a["default"].addseq(a["default"].negeq(B),1),a["default"].muleq(B,z),a["default"].addeq(B,A),a["default"].assign(z,B),n&&a["default"].assign(L.pick(M,null),z);return z};m.rJZS1Layer=function(d,c,l){var k=3<arguments.length&&void 0!==
arguments[3]?arguments[3]:"tanh",g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"sigmoid",n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1,m=(0,f["default"])(d,l.W_xz),q=(0,f["default"])(d,l.b_z),u=(0,f["default"])(d,l.W_xr),Q=(0,f["default"])(d,l.W_hr),x=(0,f["default"])(d,l.b_r),v=(0,f["default"])(d,l.W_hh),G=(0,f["default"])(d,l.b_h),E=(0,f["default"])(d,l.Pmat),y=(0,b["default"])(new d(c.shape[1]),[c.shape[1]]),I=(0,b["default"])(new d(q.shape[0]),[q.shape[0]]),A=(0,b["default"])(new d(q.shape[0]),
[q.shape[0]]),B=(0,b["default"])(new d(q.shape[0]),[q.shape[0]]),D=(0,b["default"])(new d(q.shape[0]),[q.shape[0]]),F=(0,b["default"])(new d(x.shape[0]),[x.shape[0]]),N=(0,b["default"])(new d(x.shape[0]),[x.shape[0]]),J=(0,b["default"])(new d(x.shape[0]),[x.shape[0]]),C=(0,b["default"])(new d(G.shape[0]),[G.shape[0]]),O=(0,b["default"])(new d(G.shape[0]),[G.shape[0]]),z=(0,b["default"])(new d(G.shape[0]),[G.shape[0]]),K=(0,b["default"])(new d(G.shape[0]),[G.shape[0]]),P=void 0;n&&(P=(0,b["default"])(new d(c.shape[0]*
G.shape[0]),[c.shape[0],G.shape[0]]));a["default"].assigns(C,0);for(var H=0;H<c.shape[0];H++)a["default"].assign(y,c.pick(H,null)),a["default"].assign(K,C),(0,h["default"])(D,m.transpose(1,0),y),a["default"].assigns(B,0),a["default"].addeq(B,D),a["default"].addeq(B,q),e[g](B),(0,h["default"])(N,u.transpose(1,0),y),(0,h["default"])(J,Q.transpose(1,0),K),a["default"].assigns(F,0),a["default"].addeq(F,N),a["default"].addeq(F,J),a["default"].addeq(F,x),e[g](F),(0,h["default"])(O,E.transpose(1,0),y),a["default"].mul(I,
F,K),(0,h["default"])(z,v.transpose(1,0),I),a["default"].assigns(C,0),a["default"].addeq(C,e.tanh(O)),a["default"].addeq(C,z),a["default"].addeq(C,G),e[k](C),a["default"].mul(I,B,C),a["default"].assign(A,B),a["default"].addseq(a["default"].negeq(A),1),a["default"].muleq(A,K),a["default"].addeq(A,I),a["default"].assign(C,A),n&&a["default"].assign(P.pick(H,null),C);return C};m.rJZS2Layer=function(d,c,l){var k=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"tanh",g=4<arguments.length&&void 0!==
arguments[4]?arguments[4]:"sigmoid",n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1,m=(0,f["default"])(d,l.W_xz),q=(0,f["default"])(d,l.W_hz),u=(0,f["default"])(d,l.b_z),Q=(0,f["default"])(d,l.W_hr),x=(0,f["default"])(d,l.b_r),v=(0,f["default"])(d,l.W_xh),G=(0,f["default"])(d,l.W_hh),E=(0,f["default"])(d,l.b_h),y=(0,f["default"])(d,l.Pmat),I=(0,b["default"])(new d(c.shape[1]),[c.shape[1]]),A=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),B=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),
D=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),F=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),N=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),J=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),C=(0,b["default"])(new d(x.shape[0]),[x.shape[0]]),O=(0,b["default"])(new d(x.shape[0]),[x.shape[0]]),z=(0,b["default"])(new d(E.shape[0]),[E.shape[0]]),K=(0,b["default"])(new d(E.shape[0]),[E.shape[0]]),P=(0,b["default"])(new d(E.shape[0]),[E.shape[0]]),H=(0,b["default"])(new d(E.shape[0]),[E.shape[0]]),
L=void 0;n&&(L=(0,b["default"])(new d(c.shape[0]*E.shape[0]),[c.shape[0],E.shape[0]]));a["default"].assigns(z,0);for(var M=0;M<c.shape[0];M++)a["default"].assign(I,c.pick(M,null)),a["default"].assign(H,z),(0,h["default"])(N,m.transpose(1,0),I),(0,h["default"])(J,q.transpose(1,0),H),a["default"].assigns(F,0),a["default"].addeq(F,N),a["default"].addeq(F,J),a["default"].addeq(F,u),e[g](F),(0,h["default"])(A,y.transpose(1,0),I),(0,h["default"])(O,Q.transpose(1,0),H),a["default"].assigns(C,0),a["default"].addeq(C,
A),a["default"].addeq(C,O),a["default"].addeq(C,x),e[g](C),(0,h["default"])(K,v.transpose(1,0),I),a["default"].mul(B,C,H),(0,h["default"])(P,G.transpose(1,0),B),a["default"].assigns(z,0),a["default"].addeq(z,K),a["default"].addeq(z,P),a["default"].addeq(z,E),e[k](z),a["default"].mul(B,F,z),a["default"].assign(D,F),a["default"].addseq(a["default"].negeq(D),1),a["default"].muleq(D,H),a["default"].addeq(D,B),a["default"].assign(z,D),n&&a["default"].assign(L.pick(M,null),z);return n?L:z};m.rJZS3Layer=
function(d,c,l){var k=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"tanh",g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"sigmoid",n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1,m=(0,f["default"])(d,l.W_xz),q=(0,f["default"])(d,l.W_hz),u=(0,f["default"])(d,l.b_z),Q=(0,f["default"])(d,l.W_xr),x=(0,f["default"])(d,l.W_hr),v=(0,f["default"])(d,l.b_r),G=(0,f["default"])(d,l.W_xh),E=(0,f["default"])(d,l.W_hh),y=(0,f["default"])(d,l.b_h),I=(0,b["default"])(new d(c.shape[1]),
[c.shape[1]]),A=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),B=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),D=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),F=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),N=(0,b["default"])(new d(u.shape[0]),[u.shape[0]]),J=(0,b["default"])(new d(v.shape[0]),[v.shape[0]]),C=(0,b["default"])(new d(v.shape[0]),[v.shape[0]]),O=(0,b["default"])(new d(v.shape[0]),[v.shape[0]]),z=(0,b["default"])(new d(y.shape[0]),[y.shape[0]]),K=(0,b["default"])(new d(y.shape[0]),
[y.shape[0]]),P=(0,b["default"])(new d(y.shape[0]),[y.shape[0]]),H=(0,b["default"])(new d(y.shape[0]),[y.shape[0]]),L=(0,b["default"])(new d(y.shape[0]),[y.shape[0]]),M=void 0;n&&(M=(0,b["default"])(new d(c.shape[0]*y.shape[0]),[c.shape[0],y.shape[0]]));a["default"].assigns(z,0);for(var R=0;R<c.shape[0];R++)a["default"].assign(I,c.pick(R,null)),a["default"].assign(H,z),(0,h["default"])(F,m.transpose(1,0),I),a["default"].assign(L,H),(0,h["default"])(N,q.transpose(1,0),e.tanh(L)),a["default"].assigns(D,
0),a["default"].addeq(D,F),a["default"].addeq(D,N),a["default"].addeq(D,u),e[g](D),(0,h["default"])(C,Q.transpose(1,0),I),(0,h["default"])(O,x.transpose(1,0),H),a["default"].assigns(J,0),a["default"].addeq(J,C),a["default"].addeq(J,O),a["default"].addeq(J,v),e[g](J),(0,h["default"])(K,G.transpose(1,0),I),a["default"].mul(A,J,H),(0,h["default"])(P,E.transpose(1,0),A),a["default"].assigns(z,0),a["default"].addeq(z,K),a["default"].addeq(z,P),a["default"].addeq(z,y),e[k](z),a["default"].mul(A,D,z),a["default"].assign(B,
D),a["default"].addseq(a["default"].negeq(B),1),a["default"].muleq(B,H),a["default"].addeq(B,A),a["default"].assign(z,B),n&&a["default"].assign(M.pick(R,null),z);return z};m.repeatVector=function(a,c,e){if(1!=e)throw"Repeat vector only supports 1 argument";return(0,b["default"])(c.data,c.shape.concat([1])).transpose(1,0)};m.timeDistributedDense=function(d,c,l,k){var g=(0,f["default"])(d,l.W);l=(0,f["default"])(d,l.b);d=(0,b["default"])(new d(g.shape[1]),[g.shape[1]]);(0,h["default"])(d,g.transpose(1,
0),(0,b["default"])(c.data,[c.shape[0]]));a["default"].addeq(d,l);e[k](d);return d};k=c("ndarray");var b=q(k);k=c("ndarray-ops");var a=q(k);k=c("../lib/ndarray-pack");var f=q(k);k=c("../lib/cpu/matrix-vector-product");var h=q(k),e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(c("../functions/activations"))},{"../functions/activations":36,"../lib/cpu/matrix-vector-product":40,"../lib/ndarray-pack":41,
ndarray:33,"ndarray-ops":30}],40:[function(c,k,m){Object.defineProperty(m,"__esModule",{value:!0});m["default"]=function(b,a,c){for(var h=0;h<a.shape[0];h++)b.set(h,q["default"].dot(a.pick(h,null),c));return b};var q=(c=c("ndarray-blas-level1"))&&c.__esModule?c:{"default":c}},{"ndarray-blas-level1":25}],41:[function(c,k,m){Object.defineProperty(m,"__esModule",{value:!0});m["default"]=function(a,c,h){for(var e=[],d=c,k=1;d instanceof Array;)e.push(d.length),k*=d.length,d=d[0];if(0===e.length)return(0,
q["default"])();h||(h=(0,q["default"])(new a(k),e));b(h,c);return h};var q=(k=c("ndarray"))&&k.__esModule?k:{"default":k};c=(c=c("cwise-compiler"))&&c.__esModule?c:{"default":c};var b=(0,c["default"])({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",
args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},{"cwise-compiler":14,ndarray:33}],42:[function(c,k,m){(function(k){function b(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function a(b,
c,d){for(var f in b){var g=b[f];if("number"===typeof g){var h;d?(h=g>>1,1==g%2&&(h*=-1),b[f]=h/c):h=g;b[f]=h/c}else"object"===("undefined"===typeof g?"undefined":e(g))&&a(g,c,d)}return b}function f(b,c,d){for(var e=[],f=0;f<b.length;f++){var h=b[f];-1!=g.indexOf(h.layerName)&&(h.parameters=a(h.parameters,c,d));e.push(h)}return e}Object.defineProperty(m,"__esModule",{value:!0});var h=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in
e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=c("./lib/ndarray-pack"),r=d&&d.__esModule?
d:{"default":d},l=(d=c("ndarray-unpack"))&&d.__esModule?d:{"default":d},p=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(c("./layers")),g="timeDistributedDense denseLayer embeddingLayer batchNormalizationLayer parametricReLULayer parametricSoftplusLayer rLSTMLayer rGRULayer rJZS1Layer rJZS2Layer rJZS3Layer convolution2DLayer convolution1DLayer".split(" "),d=function(){function a(b){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");b=b||{};this._arrayType="float32"===b.arrayType?Float32Array:"float64"===b.arrayType?Float64Array:Array;"object"===("undefined"===typeof window?"undefined":e(window))?this._environment="browser":"function"===typeof importScripts?this._environment="webworker":"object"===("undefined"===typeof k?"undefined":e(k))&&"function"===typeof c?this._environment="node":this._environment="shell";this._modelFilePath=b.modelFilePath||null;this._layers=
[];this._msg_pck_fmt=b.msgPackFmt||!1;this._zig_zag_encoding=b.zigzagEncoding||!1;this._scale_factor=b.scaleFactor||!1}h(a,[{key:"init",value:function(a){if(!this._modelFilePath)throw Error("no modelFilePath specified in config object.");var b=new XMLHttpRequest;b.open("GET",this._modelFilePath,!0);b.responseType="text";b.onload=function(){if(200!==b.status)console.error(b.status);else{if(this._scale_factor)if(this._msg_pck_fmt){var c=this._scale_factor,d=this._zig_zag_encoding;this._layers=f(msgpack.decode(new Uint8Array(b.response)),
c,d)}else this._layers=f(JSON.parse(b.responseText),this._scale_factor,this._zig_zag_encoding);else this._layers=JSON.parse(b.responseText);a()}}.bind(this);this._msg_pck_fmt&&(b.responseType="arraybuffer");b.send()}},{key:"predict",value:function(a){a=(0,r["default"])(this._arrayType,a);for(var c=0;c<this._layers.length;c++){var d=this._layers[c];a=p[d.layerName].apply(p,[this._arrayType,a].concat(b(d.parameters)))}return(0,l["default"])(a)}}]);return a}();m["default"]=d}).call(this,c("_process"))},
{"./layers":38,"./lib/ndarray-pack":41,_process:3,"ndarray-unpack":32}],43:[function(c,k,m){function q(a){this.info=this.decode(a);this.num=Object.keys(this.info).length;0==this.num&&console.error("Gave empty list?!");console.log("Loading bloom filter")}var b=c("base64-js"),a=c("md5");q.prototype.decode=function(a){for(var c={},e=0;e<Object.keys(a).length;e++)c[e]=b.toByteArray(a[e]);return c};q.prototype.hash_fn=function(b){b=a(b);for(var c=[],e=0;4>e;e++)c.push(parseInt(b.substring(8*e,8*(e+1)),
16));return c[3]};q.prototype.check_pwd_idx=function(a,b){var c=this.info[b],d=a%(8*c.length);return 0!=(c[Math.floor(d/8)]&Math.pow(2,d%8))};q.prototype.check_pwd=function(a){a=this.hash_fn(a);for(var b=!1,c=this.num-1;0<=c;c--)if(this.check_pwd_idx(a,c))b=!0;else return b?c+1:!1;return 0};m.BloomFilter=q},{"base64-js":1,md5:10}],44:[function(c,k,m){function q(a){this.characters=a.char_bag;this.pwd_len=a.context_length;this.min_len=a.min_len||0;this.ctable_idx={};this.rare_chars={};this.rare_chars_opposite=
{};var b=function(a,b){a in this.rare_chars_opposite||(this.rare_chars_opposite[a]=[]);this.rare_chars_opposite[a].push(b)}.bind(this);this.backwards=a.train_backwards;var c=a.rare_char_bag.join("");this.real_characters=a.char_bag_real.join("");for(var d=1;d<c.length;d++)-1=="ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(c[d])&&(this.real_characters=this.real_characters.replace(c[d],""),this.rare_chars[c[d]]=c[0],b(c[0],c[d]));b(c[0],c[0]);this.rare_chars[c[0]]=c[0];for(c=0;26>c;c++)this.real_characters=this.real_characters.replace("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c],
""),d="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c].toLowerCase(),this.rare_chars["ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c]]=d,this.rare_chars[d]=d,b(d,d),b(d,"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c]);for(b=0;b<this.real_characters.length;b++)this.ctable_idx[this.real_characters[b]]=b;this.rare_character_calc=this.calc_cache(a.character_frequencies);this.beginning_rare_character_calc=this.calc_cache(a.beginning_character_frequencies)}function b(a,b,c){this.cached_probabilities=new n.Cache(a);this.nn=b;this.table=c}function a(a,b){for(var c=
1,d=0;d<a.length;d++)c*=G.probability_of_char(a.substring(0,d),a[d],0==d);b||(c*=G.probability_of_char(a,"\n",""==a));return c}function f(b){var c=y.get(b);if(c)return c;c=a(b,!1);if(0==c)return y.set(b,-1),-1;c=t.closest(E,c,function(a,b){return a[0]>b?1:a[0]<b?-1:0});if(0==c)return y.set(b,Infinity),Infinity;c=Math.round((c+1>E.length?E[E.length-1]:E[c+1])[1]);y.set(b,c);return c}function h(b){var c,d=b.data.inputData,e=b.data.tag;if("total_prob"==b.data.action)c={tag:e,prediction:a(b.data.inputData,
b.data.prefix),password:d};else if("guess_number"==b.data.action){c=b.data.inputData;b=f(c.toLowerCase())/g;if(void 0!==u){var h=u.check_pwd(c);!1!==h&&(b=Math.min(b,Math.pow(10,h)))}void 0!==Q&&(c=Q.guess(c),!1!==c&&(b=Math.min(b,c)));c={tag:e,prediction:b,password:d}}else"predict_next"==b.data.action?c={tag:e,prediction:v.decode_probs(v.cond_prob(b.data.inputData,x)),password:d}:"raw_predict_next"==b.data.action?c={tag:e,prediction:v.cond_prob(b.data.inputData,x),password:d}:A.console.error("Unknown message action",
b.data.action);self.postMessage(c)}function e(){var a=new XMLHttpRequest;a.addEventListener("load",function(){var a=JSON.parse(this.responseText);v=new q(a);E=a.guessing_table;a.bloom_filter&&(u=new w.BloomFilter(a.bloom_filter));x=new d["default"]({modelFilePath:l,arrayType:"float32",useGPU:!0,scaleFactor:a.fixed_point_scale,msgPackFmt:!1,zigzagEncoding:p});A.console.log(x,a);G=new b(1E3,x,v);x.init(function(){I.forEach(h);self.onmessage=h})});a.open("GET",r);a.send()}var d=(k=c("neocortex-rnn-cups"))&&
k.__esModule?k:{"default":k},r,l,p,g,n=c("js-cache"),t=c("binarysearch"),w=c("./bloom_filter"),u,Q,x,v,G,E,y=new n.Cache(1E3),I=[];if(void 0===A)var A={};A.nullConsole={assert:function(){},log:function(){},warn:function(){},error:function(){},debug:function(){},dir:function(){},info:function(){}};A.console=A.nullConsole;"undefined"!==typeof console&&(A.console=console);self.onmessage=function(a){var b=a.data.messageType;"undefined"===typeof b?A.console.log("Spurious message received"):"config"!==
b?A.console.log("Non-configuration message received"):(a=a.data.payload,r=a.intermediate,l=a.file,p=a.zigzag,g=a.scaleFactor,A.console.log("Configured"),self.onmessage=function(a){I.push(a)},e())};q.prototype.calc_cache=function(a){var b={},c;for(c in this.rare_chars_opposite){var d=this.rare_chars_opposite[c];b[c]={};for(var e=0,f=0;f<d.length;f++)e+=a[d[f]];for(f=0;f<d.length;f++)b[c][d[f]]=a[d[f]]/e}return b};q.prototype.encode_char=function(a){var b=Array(this.real_characters.length),c=a;a in
this.rare_chars&&(c=this.rare_chars[a]);a=this.ctable_idx[c];for(c=0;c<b.length;c++)b[c]=c==a?1:0;return b};q.prototype.encode_pwd=function(a){var b=a;a.length>this.pwd_len&&(b=b.substring(a.length-this.pwd_len));b+=Array(this.pwd_len-b.length+1).join("\n");this.backwards&&(b=b.split("").reverse().join(""));a=Array(this.pwd_len);for(var c=0;c<b.length;c++)a[c]=this.encode_char(b[c]);return a};q.prototype.cond_prob=function(a,b){var c=b.predict(this.encode_pwd(a));if(a.length<this.min_len){c[this.ctable_idx["\n"]]=
0;for(var d=c.reduce(function(a,b){return a+b}),e=0;e<c.length;e++)c[e]/=d}return c};q.prototype.decode_probs=function(a){for(var b={},c=0;c<this.real_characters.length;c++)b[this.real_characters[c]]=a[c];return b};q.prototype.probability_of_char=function(a,b,c){a=this.decode_probs(a);a=b in a?a[b]:a[this.rare_chars[b]];if(b in this.rare_chars){var d=this.rare_chars[b];a=c?a*this.beginning_rare_character_calc[d][b]:a*this.rare_character_calc[d][b]}return a};b.prototype.probability_of_char=function(a,
b,c){var d=this.cached_probabilities.get(a);if(d)return this.table.probability_of_char(d,b,c);d=this.table.cond_prob(a,this.nn);b=this.table.probability_of_char(d,b,c);this.cached_probabilities.set(a,d);return b}},{"./bloom_filter":43,binarysearch:2,"js-cache":4,"neocortex-rnn-cups":37}]},{},[44]);
//# sourceMappingURL=/worker.js.source_map
